messages:
- - 'SIP/2.0 100 Trying'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
  - 'CSeq: \d+ INVITE'
  - 'Server: Sipwise NGCP LB'
  - 'Content-Length: 0'
- - 'SIP/2.0 407 Proxy Authentication Required'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ INVITE'
  - 'Proxy-Authenticate: Digest realm="invite-xfer-blind-caller.scenarios-pbx.test", nonce="[^"]+"'
  - 'Server: Sipwise NGCP Proxy'
  - 'Content-Length: 0'
- - 'SIP/2.0 100 Trying'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
  - 'CSeq: \d+ INVITE'
  - 'Server: Sipwise NGCP LB'
  - 'Content-Length: 0'
- - 'SIP/2.0 180 Ringing'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;ice_caller=strip;ice_callee=strip;aset=\d+;rtpprx=yes;vsf=[^;]+>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ INVITE'
  - 'Content-Length: 0'
  - 'P-Asserted-Identity: "[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]" <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
- - 'SIP/2.0 200 OK'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;ice_caller=strip;ice_callee=strip;aset=\d+;rtpprx=yes;vsf=[^;]+>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ INVITE'
  - 'Content-Type: application/sdp'
  - 'Content-Length: \d+'
  - 'P-Asserted-Identity: "[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]" <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
  - 'v=0'
  - 'o=user1 \d+ \d+ IN IP4 [% server_ip %]'
  - 's=-'
  - 'c=IN IP4 [% server_ip %]'
  - 't=0 0'
  - 'm=audio \d+ RTP/AVP 8'
  - 'a=rtpmap:8 PCMA/8000'
  - 'a=sendrecv'
  - 'a=rtcp:\d+'
  - 'a=ptime:50'
- - 'SIP/2.0 100 Trying'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ INVITE'
  - 'Server: Sipwise NGCP LB'
  - 'Content-Length: 0'
- - 'SIP/2.0 200 OK'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;vsf=[^;]+;rtpprx=yes;ice_callee=strip;ice_caller=strip;aset=\d+>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ INVITE'
  - 'Content-Type: application/sdp'
  - 'Content-Length: \d+'
  - 'P-Asserted-Identity: "[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]" <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
  - 'v=0'
  - 'o=user1 \d+ \d+ IN IP4 [% server_ip %]'
  - 's=-'
  - 'c=IN IP4 [% server_ip %]'
  - 't=0 0'
  - 'm=audio \d+ RTP/AVP 8'
  - 'a=rtpmap:8 PCMA/8000'
  - 'a=recvonly'
  - 'a=rtcp:\d+'
  - 'a=ptime:50'
- - 'SIP/2.0 202 Accepted'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;vsf=[^;]+;rtpprx=yes;xfer=yes;ice_callee=strip;ice_caller=strip;aset=\d+>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;nat=yes;socket=udp:[% server_ip %]:5060>'
  - 'From: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ REFER'
  - 'Content-Length: 0'
  - 'P-Asserted-Identity: "[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]" <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
- - 'INVITE sip:[% scenarios.0.username %]@[% scenarios.0.ip %]:[% scenarios.0.port %] SIP/2.0'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;vsf=[^;]+;rtpprx=yes;ice_caller=strip;ice_callee=strip;aset=\d+>'
  - 'From: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ INVITE'
  - 'Content-Type: application/sdp'
  - 'Content-Length: \d+'
  - 'P-Asserted-Identity: "[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]" <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
  - 'v=0'
  - 'o=user1 \d+ \d+ IN IP4 [% server_ip %]'
  - 's=-'
  - 'c=IN IP4 [% server_ip %]'
  - 't=0 0'
  - 'a=ngcp-pbx-hold'
  - 'm=audio \d+ RTP/AVP 8'
  - 'a=rtpmap:8 PCMA/8000'
  - 'a=sendonly'
  - 'a=rtcp:\d+'
  - 'a=ptime:50'
- - 'ACK sip:[% scenarios.0.ip %]:[% scenarios.0.port %];transport=UDP SIP/2.0'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;vsf=[^;]+;rtpprx=yes;ice_caller=strip;ice_callee=strip;aset=\d+>'
  - 'From: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ ACK'
  - 'Content-Length: 0'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
- - 'NOTIFY sip:[% scenarios.0.ip %]:[% scenarios.0.port %];transport=UDP SIP/2.0'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;vsf=[^;]+>'
  - 'From: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ NOTIFY'
  - 'Event: refer'
  - 'Subscription-State: active;expires=\d+'
  - 'Content-Type: message/sipfrag'
  - 'Content-Length: \d+'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
  - 'SIP/2.0 180 Ringing'
- - 'NOTIFY sip:[% scenarios.0.ip %]:[% scenarios.0.port %];transport=UDP SIP/2.0'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;did=[^;]+;vsf=[^;]+>'
  - 'From: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ NOTIFY'
  - 'Event: refer'
  - 'Subscription-State: terminated;reason=noresource'
  - 'Content-Type: message/sipfrag'
  - 'Content-Length: \d+'
  - 'Contact: <sip:ngcp-lb@[% server_ip %]:5060;ngcpct=[^;]+>'
  - 'SIP/2.0 200 OK'
- - 'BYE sip:[% scenarios.0.ip %]:[% scenarios.0.port %];transport=UDP SIP/2.0'
  - 'Record-Route: <sip:[% server_ip %];r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1;r2=on;lr=on;ftag=[^;]+;ngcplb=yes;socket=udp:[% server_ip %]:5060>'
  - 'Record-Route: <sip:127.0.0.1:5062;lr=on;ftag=[^;]+;vsf=[^;]+;rtpprx=yes>'
  - 'From: <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'To: <sip:[% scenarios.0.username %]@invite-xfer-blind-caller.scenarios-pbx.test>;tag=[\w-]+'
  - 'CSeq: \d+ BYE'
  - 'Content-Length: 0'
  - 'P-Asserted-Identity: "[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]" <sip:[% invite_xfer_blind_caller_scenarios_pbx_test.testuser1003.pbx_extension %]@invite-xfer-blind-caller.scenarios-pbx.test>'
